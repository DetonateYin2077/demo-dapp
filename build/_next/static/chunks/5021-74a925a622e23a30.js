"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5021],{99529:function(t,e,n){n.d(e,{D:function(){return d}});var r=n(52983),a=n(98867),i=n(9655),o=n(269),s=n(9943),c=class extends o.l{#t;#e=void 0;#n;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,s.VS)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,s.Ym)(e.mutationKey)!==(0,s.Ym)(this.options.mutationKey)?this.reset():this.#n?.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#a(),this.#i(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#i()}mutate(t,e){return this.#r=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#a(){let t=this.#n?.state??(0,a.R)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#i(t){i.V.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,e,n),this.#r.onSettled?.(t.data,null,e,n)):t?.type==="error"&&(this.#r.onError?.(t.error,e,n),this.#r.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach(t=>{t(this.#e)})})}},u=n(86256),l=n(68354);function d(t,e){let n=(0,u.NL)(e),[a]=r.useState(()=>new c(n,t));r.useEffect(()=>{a.setOptions(t)},[a,t]);let o=r.useSyncExternalStore(r.useCallback(t=>a.subscribe(i.V.batchCalls(t)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=r.useCallback((t,e)=>{a.mutate(t,e).catch(l.Z)},[a]);if(o.error&&(0,l.L)(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}},82219:function(t,e,n){n.d(e,{e:function(){return c}});var r=n(97727),a=n(99355),i=n(95664),o=n(51856),s=n(94899);async function c(t,e={}){let n;if(e.connector){let{connector:t}=e,[r,a]=await Promise.all([t.getAccounts(),t.getChainId()]);n={accounts:r,chainId:a,connector:t}}else n=t.state.connections.get(t.state.current);if(!n)throw new s.aH;let c=e.chainId??n.chainId,u=await n.connector.getChainId();if(u!==n.chainId)throw new s.XZ({connectionChainId:n.chainId,connectorChainId:u});let l=n.connector;if(l.getClient)return l.getClient({chainId:c});let d=(0,i.T)(e.account??n.accounts[0]);d.address=(0,o.K)(d.address);let h=t.chains.find(t=>t.id===c),f=await n.connector.getProvider({chainId:c});if(e.account&&!n.accounts.some(t=>t.toLowerCase()===d.address.toLowerCase()))throw new s.JK({address:d.address,connector:l});return(0,r.e)({account:d,chain:h,name:"Connector Client",transport:t=>(0,a.P)(f)({...t,retryCount:0})})}},11929:function(t,e,n){n.d(e,{a:function(){return o}});var r=n(71853),a=n(29401),i=n(82219);async function o(t,e){let n;let{abi:o,chainId:s,connector:c,...u}=e;n=e.account?e.account:(await (0,i.e)(t,{chainId:s,connector:c})).account;let l=t.getClient({chainId:s}),d=(0,a.s)(l,r.a,"simulateContract"),{result:h,request:f}=await d({...u,abi:o,account:n});return{chainId:l.chain.id,result:h,request:{__mode:"prepared",...f,chainId:s}}}},94899:function(t,e,n){n.d(e,{JK:function(){return i},XZ:function(){return o},aH:function(){return a}});var r=n(9255);class a extends r.G{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class i extends r.G{constructor({address:t,connector:e}){super(`Account "${t}" not found for connector "${e.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class o extends r.G{constructor({connectionChainId:t,connectorChainId:e}){super(`The current chain of the connector (id: ${e}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${e}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}},64719:function(t,e,n){n.d(e,{L:function(){return i}});var r=n(26396),a=n(14691);function i(t,e="wei"){return(0,a.v)(t,r.Zn[e])}},59697:function(t,e,n){n.d(e,{Q:function(){return h}});var r=n(94899),a=n(29789),i=n(36434),o=n(11312);async function s(t,e){let{id:n}=e,{receipts:r,status:a}=await t.request({method:"wallet_getCallsStatus",params:[n]});return{status:a,receipts:r?.map(t=>({...t,blockNumber:i.y_(t.blockNumber),gasUsed:i.y_(t.gasUsed),status:o.ew[t.status]}))??[]}}var c=n(82219);async function u(t,e){let{connector:n,id:r}=e;return s(await (0,c.e)(t,{connector:n}),{id:r})}var l=n(56153),d=n(46169);function h(t){var e;let{query:n={}}=t,i=(e=(0,l.Z)(t),{async queryFn({queryKey:t}){let{scopeKey:n,...r}=t[1];return await u(e,r)},queryKey:["callsStatus",(0,a.OP)(t)],retry:(t,e)=>!(e instanceof r.aH)&&t<3});return(0,d.aM)({...n,...i})}},46563:function(t,e,n){n.d(e,{a:function(){return y}});var r=n(99529),a=n(95664),i=n(14162),o=n(72062),s=n(86802),c=n(76950),u=n(63297);async function l(t,e){let{account:n=t.account,capabilities:r,chain:l=t.chain,version:d="1.0"}=e;if(!n)throw new i.o({docsPath:"/experimental/eip5792/sendCalls"});let h=(0,a.T)(n),f=e.calls.map(t=>{let e=t.chain?.id??t.chainId??l?.id;if(!e)throw new o.Bk;let n=t.abi?(0,s.R)({abi:t.abi,functionName:t.functionName,args:t.args}):t.data;return{chainId:(0,c.eC)(e),data:n,to:t.to,value:t.value?(0,c.eC)(t.value):void 0}});try{return await t.request({method:"wallet_sendCalls",params:[{calls:f,capabilities:r,chainId:(0,c.eC)(l.id),from:h.address,version:d}]},{retryCount:0})}catch(t){throw(0,u.$)(t,{...e,account:h,chain:e.chain})}}var d=n(82219);async function h(t,e){let{account:n,chainId:r,connector:a,calls:i,...o}=e;return l(await (0,d.e)(t,{account:n,chainId:r,connector:a}),{...o,...n?{account:n}:{},calls:i,chain:r?{id:r}:void 0})}var f=n(56153);function y(t={}){var e;let{mutation:n}=t,a=(e=(0,f.Z)(t),{mutationFn:t=>h(e,t),mutationKey:["sendCalls"]}),{mutate:i,mutateAsync:o,...s}=(0,r.D)({...n,...a});return{...s,sendCalls:i,sendCallsAsync:o}}},65067:function(t,e,n){n.d(e,{L:function(){return d}});var r=n(86256),a=n(82219),i=n(29789),o=n(52983),s=n(46169),c=n(88944),u=n(90071),l=n(56153);function d(t={}){let{query:e={},...n}=t,d=(0,l.Z)(n),h=(0,r.NL)(),{address:f,connector:y,status:m}=(0,c.m)({config:d}),p=(0,u.x)({config:d}),{queryKey:v,...b}=function(t,e={}){return{gcTime:0,async queryFn({queryKey:n}){let{connector:r}=e,{connectorUid:i,scopeKey:o,...s}=n[1];return(0,a.e)(t,{...s,connector:r})},queryKey:function(t={}){let{connector:e,...n}=t;return["connectorClient",{...(0,i.OP)(n),connectorUid:e?.uid}]}(e)}}(d,{...t,chainId:t.chainId??p,connector:t.connector??y}),w=!!(("connected"===m||"reconnecting"===m)&&(e.enabled??!0)),C=(0,o.useRef)(f);return(0,o.useEffect)(()=>{let t=C.current;!f&&t?(h.removeQueries({queryKey:v}),C.current=void 0):f!==t&&(h.invalidateQueries({queryKey:v}),C.current=f)},[f,h]),(0,s.aM)({...e,...b,queryKey:v,enabled:w,staleTime:Number.POSITIVE_INFINITY})}},38621:function(t,e,n){n.d(e,{N:function(){return h}});var r=n(73254),a=n(29401),i=n(82219);async function o(t,e){let n;let{chainId:o,connector:s,...c}=e;n=e.account?e.account:(await (0,i.e)(t,{account:e.account,chainId:o,connector:s})).account;let u=t.getClient({chainId:o});return(0,a.s)(u,r.Q,"estimateGas")({...c,account:n})}var s=n(29789),c=n(46169),u=n(90071),l=n(56153),d=n(65067);function h(t={}){let{connector:e,query:n={}}=t,r=(0,l.Z)(t),{data:a}=(0,d.L)({connector:e,query:{enabled:void 0===t.account}}),i=t.account??a?.account,h=(0,u.x)({config:r}),f=function(t,e={}){return{async queryFn({queryKey:n}){let{connector:r}=e,{account:a,scopeKey:i,...s}=n[1];if(!a&&!r)throw Error("account or connector is required");return o(t,{account:a,connector:r,...s})},queryKey:function(t={}){let{connector:e,...n}=t;return["estimateGas",(0,s.OP)(n)]}(e)}}(r,{...t,account:i,chainId:t.chainId??h,connector:e}),y=!!((i||e)&&(n.enabled??!0));return(0,c.aM)({...n,...f,enabled:y})}},43264:function(t,e,n){n.d(e,{p:function(){return d}});var r=n(99529),a=n(73254),i=n(6268),o=n(29401),s=n(556),c=n(82219);async function u(t,e){let n;let{account:r,chainId:u,connector:l,gas:d,...h}=e;n="object"==typeof r&&"local"===r.type?t.getClient({chainId:u}):await (0,c.e)(t,{account:r,chainId:u,connector:l});let{connector:f}=(0,s.D)(t),y=await (async()=>{if(!(!("data"in e)||!e.data||(l??f)?.supportsSimulation)&&null!==d)return void 0===d?(0,o.s)(n,a.Q,"estimateGas")({...h,account:r,chain:u?{id:u}:null}):d})(),m=(0,o.s)(n,i.T,"sendTransaction");return await m({...h,...r?{account:r}:{},gas:y,chain:u?{id:u}:null})}var l=n(56153);function d(t={}){var e;let{mutation:n}=t,a=(e=(0,l.Z)(t),{mutationFn:t=>u(e,t),mutationKey:["sendTransaction"]}),{mutate:i,mutateAsync:o,...s}=(0,r.D)({...n,...a});return{...s,sendTransaction:i,sendTransactionAsync:o}}},11337:function(t,e,n){n.d(e,{Q:function(){return u}});var r=n(99529),a=n(31636),i=n(29401),o=n(82219);async function s(t,e){let n;let{account:r,connector:s,...c}=e;return n="object"==typeof r&&"local"===r.type?t.getClient():await (0,o.e)(t,{account:r,connector:s}),(0,i.s)(n,a.l,"signMessage")({...c,...r?{account:r}:{}})}var c=n(56153);function u(t={}){var e;let{mutation:n}=t,a=(e=(0,c.Z)(t),{mutationFn:t=>s(e,t),mutationKey:["signMessage"]}),{mutate:i,mutateAsync:o,...u}=(0,r.D)({...n,...a});return{...u,signMessage:i,signMessageAsync:o}}},23323:function(t,e,n){n.d(e,{y:function(){return u}});var r=n(99529),a=n(27962),i=n(29401),o=n(82219);async function s(t,e){let n;let{account:r,connector:s,...c}=e;return n="object"==typeof r&&"local"===r.type?t.getClient():await (0,o.e)(t,{account:r,connector:s}),(0,i.s)(n,a.x,"signTypedData")({...c,...r?{account:r}:{}})}var c=n(56153);function u(t={}){var e;let{mutation:n}=t,a=(e=(0,c.Z)(t),{mutationFn:t=>s(e,t),mutationKey:["signTypedData"]}),{mutate:i,mutateAsync:o,...u}=(0,r.D)({...n,...a});return{...u,signTypedData:i,signTypedDataAsync:o}}},54304:function(t,e,n){n.d(e,{G:function(){return u}});var r=n(11929),a=n(29789),i=n(46169),o=n(90071),s=n(56153),c=n(65067);function u(t={}){let{abi:e,address:n,connector:u,functionName:l,query:d={}}=t,h=(0,s.Z)(t),{data:f}=(0,c.L)({connector:u,query:{enabled:void 0===t.account}}),y=(0,o.x)({config:h}),m=function(t,e={}){return{async queryFn({queryKey:n}){let{abi:a,connector:i}=e;if(!a)throw Error("abi is required");let{scopeKey:o,...s}=n[1],{address:c,functionName:u}=s;if(!c)throw Error("address is required");if(!u)throw Error("functionName is required");return(0,r.a)(t,{abi:a,connector:i,...s})},queryKey:function(t={}){let{abi:e,connector:n,...r}=t;return["simulateContract",(0,a.OP)(r)]}(e)}}(h,{...t,account:t.account??f?.account,chainId:t.chainId??y}),p=!!(e&&n&&l&&(d.enabled??!0));return(0,i.aM)({...d,...m,enabled:p})}},79304:function(t,e,n){n.d(e,{S:function(){return d}});var r=n(99529),a=n(78688),i=n(29401),o=n(556),s=n(82219),c=n(11929);async function u(t,e){let n,r;let{account:u,chainId:l,connector:d,__mode:h,...f}=e;n="object"==typeof u&&"local"===u.type?t.getClient({chainId:l}):await (0,s.e)(t,{account:u,chainId:l,connector:d});let{connector:y}=(0,o.D)(t);if("prepared"===h||y?.supportsSimulation)r=f;else{let{request:e}=await (0,c.a)(t,{...f,account:u,chainId:l});r=e}let m=(0,i.s)(n,a.n,"writeContract");return await m({...r,...u?{account:u}:{},chain:l?{id:l}:null})}var l=n(56153);function d(t={}){var e;let{mutation:n}=t,a=(e=(0,l.Z)(t),{mutationFn:t=>u(e,t),mutationKey:["writeContract"]}),{mutate:i,mutateAsync:o,...s}=(0,r.D)({...n,...a});return{...s,writeContract:i,writeContractAsync:o}}}}]);