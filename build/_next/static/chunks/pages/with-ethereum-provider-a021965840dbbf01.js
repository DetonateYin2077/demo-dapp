(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[880],{280:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/with-ethereum-provider",function(){return t(7599)}])},3339:function(n,e,t){"use strict";t.d(e,{FI:function(){return i},Qf:function(){return r},T_:function(){return s},ph:function(){return o}});let i={name:"WalletConnectModal Lab",description:"WalletConnectModal Laboratory",url:"lab.web3modal.com",icons:["https://walletconnect.com/_next/static/media/logo_mark.84dd8525.svg"]},o={requiredNamespaces:{eip155:{methods:["eth_sendTransaction","personal_sign"],chains:["eip155:1"],events:["chainChanged","accountsChanged"]}}},s={statement:"Connect to WalletConnectModal Lab"};function r(n,e){return{topic:n,chainId:"eip155:1",request:{method:"personal_sign",params:["0x48656c6c6f20576562334d6f64616c",e]}}}},7599:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return p}});var i=t(9980),o=t(1326),s=t(5655),r=t(28),c=t(6091),a=t(4544),u=t(3339),l=t(2363),d=t(106),f=t(4072),h=t(1744);function p(){let[n,e]=(0,l.useState)(void 0),[t,p]=(0,l.useState)(!1),[g,m]=(0,l.useState)(!1);async function w(){let n=await a.Gn.init({projectId:(0,f.f)(),showQrModal:!0,qrModalOptions:{themeMode:(0,f.g)()},chains:[1],methods:["eth_sendTransaction","personal_sign"],events:["connect","disconnect"]});n.session&&p(!0),e(n)}async function _(){if(n)try{await n.connect(),p(!0),d.G.open("Connect",JSON.stringify(n.session,null,2))}catch(e){let n=(0,h.e)(e);(0,h.E)(n)}else(0,h.E)("providerClient is not initialized")}async function x(){if(!g){if(n){m(!0);try{await n.disconnect()}catch(e){let n=(0,h.e)(e);(0,h.E)(n)}m(!1),p(!1)}else(0,h.E)("providerClient is not initialized")}}async function E(){if(null==n?void 0:n.session)try{let{request:e}=(0,u.Qf)(n.session.topic,n.accounts[0]),t=await n.request(e);d.G.open("Sign Message",JSON.stringify(t,null,2))}catch(e){let n=(0,h.e)(e);(0,h.E)(n)}else(0,h.E)("providerClient is not initialized")}return(0,l.useEffect)(()=>{window.open=n=>{utils.openTelegramLink(n),console.log("重载open")}},[]),(0,l.useEffect)(()=>{n&&n.on("disconnect",()=>{p(!1)})},[n]),(0,l.useEffect)(()=>{w()},[]),(0,i.jsx)(i.Fragment,{children:n&&(0,i.jsx)(o.ZP,{css:{maxWidth:"400px",margin:"100px auto"},variant:"bordered",children:(0,i.jsx)(o.ZP.Body,{css:{justifyContent:"center",alignItems:"center",height:"200px"},children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.ZP,{shadow:!0,color:"primary",onPress:E,children:"Sign Message"}),(0,i.jsx)(r.Z,{}),(0,i.jsx)(s.ZP,{shadow:!0,color:"error",onPress:x,disabled:g,children:g?(0,i.jsx)(c.ZP,{size:"xs",color:"white"}):"Disconnect"})]}):(0,i.jsx)(s.ZP,{shadow:!0,color:"primary",onPress:_,children:"Connect"})})})})}},1744:function(n,e,t){"use strict";t.d(e,{E:function(){return o},e:function(){return s}});var i=t(1490);function o(n){i.C.error(n,{duration:2e3})}function s(n){return n instanceof Error?n.message:"Something went wrong..."}},3331:function(){}},function(n){n.O(0,[554,776,544,774,888,179],function(){return n(n.s=280)}),_N_E=n.O()}]);